<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mic Calendar - Track Your Comedy Sets</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ­</text></svg>">

    <!-- External Fonts and Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- External CSS Files -->
    
    <!-- Papa Parse for CSV loading -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    
    <!-- Lightweight Date Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/css/datepicker.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.4/dist/js/datepicker.min.js"></script>
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <!-- Shepherd.js for onboarding -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@11.2.0/dist/css/shepherd.css"/>
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@11.2.0/dist/js/shepherd.min.js"></script>
    
    <!-- SortableJS for drag-and-drop functionality -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script>window.ENV_CONFIG = {
  "NODE_ENV": "production",
  "VERSION": "2.0.0",
  "API_BASE_URL": "https://api.micfinderapp.com",
  "CSV_DATA_URL": "./coordinates.csv",
  "FEEDBACK_EMAIL": "support@micfinderapp.com",
  "FEATURES": {
    "ONBOARDING": true,
    "MIC_FINDER": true,
    "STATS_CHARTS": true,
    "SETLIST_BUILDER": true,
    "DATA_EXPORT": true,
    "KEYBOARD_SHORTCUTS": true,
    "COLLABORATION": true,
    "OFFLINE_MODE": false,
    "ANALYTICS": false,
    "PUSH_NOTIFICATIONS": false
  },
  "PERFORMANCE": {
    "CHART_ANIMATION_DURATION": 750,
    "NOTIFICATION_DURATION": 3000,
    "DEBOUNCE_DELAY": 300,
    "MAX_EVENTS_PER_DAY": 10,
    "MAX_SAVED_SETLISTS": 50
  },
  "UI": {
    "DEFAULT_VIEW": "week",
    "DEFAULT_THEME": "dark",
    "MOBILE_BREAKPOINT": 768,
    "MODAL_ANIMATION_DURATION": 200
  },
  "DATA": {
    "AUTO_SAVE": true,
    "BACKUP_FREQUENCY": 86400000,
    "MAX_STORAGE_SIZE": 5242880
  },
  "DEBUG": {
    "ENABLED": true,
    "LOG_LEVEL": "info",
    "SHOW_PERFORMANCE_METRICS": false,
    "MOCK_API_DELAY": 500
  }
};</script>
  <script type="module" crossorigin src="./assets/main-DRsLYWSO.js"></script>
  <link rel="modulepreload" crossorigin href="./assets/preload-helper-lMf9uHy8.js">
  <link rel="stylesheet" crossorigin href="./css/main-DndICSTr.css">
</head>
<body>
    
    <!-- =================================== -->
    <!-- APP HEADER                         -->
    <!-- =================================== -->
    <div class="app-header">
        <div class="header-left">
            <div class="app-logo">
                <i class="fas fa-calendar-alt"></i>
                Mic Calendar
            </div>
            <div class="nav-toggle">
                <button class="nav-toggle-btn active" id="calendarNavBtn">
                    <i class="fas fa-calendar"></i>
                    Calendar
                </button>
            </div>
        </div>
    </div>

    <!-- =================================== -->
    <!-- MAIN CALENDAR CONTAINER            -->
    <!-- =================================== -->
    <div class="set-history-calendar" id="calendarContainer">
        <h3 class="calendar-title">Set History</h3>
        
        <!-- Calendar View Toggle -->
        <nav class="view-toggle" role="tablist" aria-label="Calendar view options">
            <button class="view-toggle-btn active" id="weekViewBtn" role="tab" aria-selected="true" aria-controls="calendarGrid">
                <i class="fas fa-calendar-week" aria-hidden="true"></i>
                <span>Week</span>
            </button>
            <button class="view-toggle-btn" id="monthViewBtn" role="tab" aria-selected="false" aria-controls="calendarGrid">
                <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                <span>Month</span>
            </button>
            <button class="view-toggle-btn" id="listViewBtn" role="tab" aria-selected="false" aria-controls="calendarGrid">
                <i class="fas fa-list" aria-hidden="true"></i>
                <span>List</span>
            </button>
        </nav>
        
        <!-- Calendar Navigation -->
        <div class="calendar-nav">
            <span class="date-range" id="dateRange"></span>
            <div class="nav-controls">
                <button class="nav-btn" id="expandBtn" aria-label="Expand or collapse calendar">
                    <i class="fas fa-expand" aria-hidden="true"></i>
                </button>
                <button class="nav-btn" id="prevWeekBtn" aria-label="Previous week"><i class="fas fa-chevron-left" aria-hidden="true"></i></button>
                <button class="nav-btn" id="nextWeekBtn" aria-label="Next week"><i class="fas fa-chevron-right" aria-hidden="true"></i></button>
                <button class="today-btn" id="todayBtn" aria-label="Go to today">Today</button>
                <button class="add-set-btn" id="addSetBtn" aria-label="Add a new set to calendar">
                    <i class="fas fa-plus fa-xs" aria-hidden="true"></i> Add Set
                </button>
                <button class="add-set-btn add-mic-btn" id="addMicBtn" aria-label="Add a new mic to calendar">
                    <i class="fas fa-microphone fa-xs" aria-hidden="true"></i> Add Mic
                </button>
            </div>
        </div>

        <!-- Filter Controls -->
        <div class="filter-controls">
            <div class="filter-group">
                <i class="fas fa-search"></i>
                <input type="search" id="venueSearch" class="filter-input" placeholder="Search venue, notes, or setlist...">
            </div>
            <div class="filter-group" style="display: flex; gap: 0.5rem;">
                <select id="typeFilter" class="filter-input" style="padding-left: 1rem;">
                    <option value="all">All Types</option>
                    <option value="blue">Showcase</option>
                    <option value="green">Open Mic</option>
                    <option value="orange">Corporate / Private</option>
                    <option value="red">Late Night</option>
                </select>
                <button id="advancedSearchToggle" class="nav-btn" title="Advanced Search" style="flex-shrink: 0;">
                    <i class="fas fa-sliders-h"></i>
                </button>
            </div>
            
            <!-- Advanced Search Panel -->
            <div class="advanced-search" id="advancedSearch">
                <div class="search-row">
                    <div class="filter-group">
                        <label style="display: block; margin-bottom: 0.5rem; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase;">Date Range</label>
                        <input type="date" id="dateFrom" class="filter-input" style="padding-left: 1rem;">
                    </div>
                    <div class="filter-group">
                        <label style="display: block; margin-bottom: 0.5rem; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase;">To</label>
                        <input type="date" id="dateTo" class="filter-input" style="padding-left: 1rem;">
                    </div>
                    <div class="filter-group">
                        <label style="display: block; margin-bottom: 0.5rem; font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); text-transform: uppercase;">Min Jokes</label>
                        <input type="number" id="minJokes" class="filter-input" min="0" placeholder="0" style="padding-left: 1rem;">
                    </div>
                </div>
                <div class="search-row">
                    <button id="clearFilters" class="nav-btn" style="width: auto; padding: 0 1rem;">
                        <i class="fas fa-times"></i> Clear All
                    </button>
                    <div style="margin-left: auto; font-size: 0.8rem; color: var(--text-secondary); display: flex; align-items: center; gap: 1rem;">
                        <span>Shortcuts: <kbd style="background: var(--bg-surface-2); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.7rem;">Ctrl+F</kbd> Search, <kbd style="background: var(--bg-surface-2); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.7rem;">Ctrl+T</kbd> Today</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Calendar Grid -->
        <div class="calendar-grid-container">
            <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar content will be generated by JavaScript -->
            </div>
        </div>
    </main>

    <!-- =================================== -->
    <!-- MODALS AND POPUPS                  -->
    <!-- =================================== -->

    <!-- Right-Click Context Menu -->
    <div id="event-context-menu" class="context-menu" style="display: none;">
        <ul class="context-menu-list">
            <li class="context-menu-item" data-action="edit"><i class="fa-solid fa-fw fa-pencil"></i><span>Edit Set</span></li>
            <li class="context-menu-item delete" data-action="delete"><i class="fa-solid fa-fw fa-trash-can"></i><span>Delete Set</span></li>
        </ul>
    </div>

    <!-- Mic Selection Modal -->
    <div id="mic-selection-modal" class="modal-container" role="dialog" aria-labelledby="mic-modal-title" aria-describedby="mic-modal-desc">
        <div class="modal-overlay"></div>
        <div class="modal-content" style="max-width: 700px;">
            <button class="modal-close-btn" aria-label="Close modal">&times;</button>
            <h3 id="mic-modal-title" class="form-title">Select a Mic to Add</h3>
            <p id="mic-modal-desc" class="sr-only">Search and filter through available open mic venues to add to your calendar</p>
            
            <!-- Quick Filter Chips -->
            <div class="quick-filters" style="margin-bottom: 1rem;">
                <button class="filter-chip" data-filter="today">
                    <i class="fas fa-star"></i> Today
                </button>
                <button class="filter-chip" data-filter="tomorrow">
                    <i class="fas fa-calendar-plus"></i> Tomorrow
                </button>
                <button class="filter-chip" data-filter="free">
                    <i class="fas fa-dollar-sign"></i> Free
                </button>
                <button class="filter-chip" data-filter="popular">
                    <i class="fas fa-fire"></i> Popular
                </button>
                <button class="filter-chip" data-filter="clear">
                    <i class="fas fa-times"></i> Clear
                </button>
            </div>
            
            <div class="filter-controls" style="margin-bottom: 1.5rem;">
                <div class="filter-group">
                    <i class="fas fa-search"></i>
                    <input type="search" id="micSearch" class="filter-input" placeholder="Search venues...">
                </div>
                <div class="filter-group">
                    <i class="fas fa-calendar-day"></i>
                    <select id="dayFilter" class="filter-input" style="padding-left: 2.25rem;">
                        <option value="all">All Days</option>
                        <option value="Sunday">Sunday</option>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                    </select>
                </div>
            </div>
            
            <div id="micsList" style="max-height: 400px; overflow-y: auto; border: 1px solid var(--border-color); border-radius: 6px;">
                <!-- Mic options will be populated here -->
            </div>
            
            <div class="form-actions">
                <button type="button" class="form-btn btn-secondary modal-cancel-btn">Cancel</button>
                <a href="index.html" class="form-btn btn-secondary" style="text-decoration: none; display: inline-flex; align-items: center;">
                    <i class="fas fa-external-link-alt" style="margin-right: 0.5rem;"></i>
                    Open Mic Finder
                </a>
            </div>
        </div>
    </div>

    <!-- Add/Edit Set Modal -->
    <div id="add-edit-modal" class="modal-container form-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close-btn" aria-label="Close">&times;</button>
            <h3 class="form-title" id="formTitle">Log a New Set</h3>
            <form id="setForm">
                 <div class="form-grid">
                    <input type="hidden" id="setId" name="setId">
                    <div class="form-group"><label for="event-title">Event Title</label><input type="text" id="event-title" name="event-title" required placeholder="e.g., Showcase"></div>
                    <div class="form-group">
                        <label for="venue">Venue</label>
                        <div style="display: flex; gap: 0.5rem; align-items: stretch;">
                            <input type="text" id="venue" name="venue" required placeholder="e.g., The Comedy Cellar" style="flex: 1;">
                            <button type="button" id="addMicFromForm" class="add-mic-inline-btn">
                                <i class="fas fa-plus"></i>
                                Add Mic
                            </button>
                        </div>
                    </div>
                    <div class="form-group"><label for="date">Date</label><input type="date" id="date" name="date" required></div>
                    <div class="form-group"><label for="event-type">Event Type</label><select id="event-type" name="eventType" required><option value="blue">Showcase</option><option value="green">Open Mic</option><option value="orange">Corporate / Private</option><option value="red">Late Night</option></select></div>
                    <div class="form-group full-width">
                        <label for="setlist">Build Your Setlist</label>
                        <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                            <select id="setlistTemplate" style="flex: 1; padding: 0.5rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary);">
                                <option value="">Choose a saved setlist...</option>
                            </select>
                            <button type="button" id="manageSetlistsBtn" style="padding: 0.5rem 1rem; background: var(--accent-orange); color: white; border: none; border-radius: 6px; cursor: pointer; white-space: nowrap;">Manage Setlists</button>
                            <button type="button" id="toggleLegacySetlist" style="padding: 0.5rem 1rem; background: var(--bg-surface-2); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 6px; cursor: pointer; white-space: nowrap;" title="Switch to text input">
                                <i class="fas fa-keyboard"></i>
                            </button>
                        </div>
                        
                        <!-- New Drag-and-Drop Setlist Builder -->
                        <div id="setlistBuilder" class="setlist-builder">
                            <div class="setlist-panels">
                                <!-- Left Panel: Joke Bank -->
                                <div class="joke-bank-panel">
                                    <div class="panel-header">
                                        <div class="panel-title-section">
                                            <h4><i class="fas fa-lightbulb"></i> Your Joke Library</h4>
                                            <button type="button" id="jokeBankToggle" class="dropdown-toggle" aria-label="Toggle joke bank visibility">
                                                <i class="fas fa-chevron-down"></i>
                                            </button>
                                        </div>
                                        <div class="joke-bank-controls-mini">
                                            <input type="search" id="modalJokeSearch" placeholder="Search jokes..." class="mini-search">
                                            <select id="modalJokeTagFilter" class="mini-select">
                                                <option value="">All Tags</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="panel-actions" style="padding: 0.5rem 1rem; border-bottom: 1px solid var(--border-color);">
                                        <button type="button" id="addJokeFromBuilderBtn" class="add-set-btn" style="width: 100%; background: var(--accent-green); color: white;">
                                            <i class="fas fa-plus fa-xs"></i> Add New Joke to Library
                                        </button>
                                    </div>
                                    <div class="joke-bank-collapsible" id="jokeBankCollapsible">
                                        <div class="joke-bank-list" id="modalJokeBank">
                                            <!-- Jokes will be populated here -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Right Panel: Current Setlist -->
                                <div class="current-setlist-panel">
                                                                    <div class="panel-header">
                                    <h4><i class="fas fa-list"></i> Current Setlist</h4>
                                    <div style="display: flex; align-items: center; gap: 1rem; font-size: 0.9rem; color: var(--text-secondary);">
                                        <span id="jokeCount">0 jokes</span>
                                        <span id="totalDuration">0:00</span>
                                        <button id="clearSetlistBtn" class="clear-setlist-btn" title="Clear all jokes from setlist" style="display: none;">Clear</button>
                                    </div>
                                </div>
                                    <div class="current-setlist" id="currentSetlist">
                                        <div class="empty-setlist">
                                            <i class="fas fa-arrow-left"></i>
                                            <p>Drag jokes here to build your setlist</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Legacy Text Input (Hidden by default) -->
                        <div id="legacySetlistInput" style="display: none;">
                            <textarea id="setlist" name="setlist" placeholder="Scarecrow Joke&#10;Coffee Rant" style="min-height: 120px; resize: vertical;"></textarea>
                            <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">
                                <i class="fas fa-info-circle"></i> Using legacy text input. Switch to the drag-and-drop builder for a better experience.
                            </div>
                        </div>
                        
                        <!-- Hidden input to store setlist data -->
                        <input type="hidden" id="setlistData" name="setlistData">
                    </div>
                    <div class="form-group full-width">
                        <label for="tags">Tags (comma-separated)</label>
                        <input type="text" id="tags" name="tags" placeholder="e.g., new-material, practice, audition, corporate, clean" style="padding: 0.75rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); width: 100%;">
                        <div class="tags-suggestions" id="tagsSuggestions" style="margin-top: 0.5rem; display: flex; flex-wrap: wrap; gap: 0.25rem;"></div>
                    </div>
                    <div class="form-group full-width">
                        <label for="goal">Performance Goal</label>
                        <input type="text" id="goal" name="goal" placeholder="e.g., Test new opener, Work on timing, Get weekend spot" style="padding: 0.75rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); width: 100%;">
                    </div>
                    <div class="form-group full-width">
                        <label for="imageUrl">Image URL</label>
                        <input type="url" id="imageUrl" name="imageUrl" placeholder="https://example.com/image.jpg" style="padding: 0.75rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); width: 100%;">
                        <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--text-secondary);">
                            <i class="fas fa-info-circle"></i> Paste a link to an image online (e.g., from Instagram, Twitter, or an image hosting site)
                        </div>
                    </div>
                    <div class="form-group full-width"><label for="notes">Performance Notes</label><textarea id="notes" name="notes" placeholder="Crowd was... New tag landed..."></textarea></div>
                    <div class="form-actions">
                         <button type="button" class="form-btn btn-secondary modal-cancel-btn">Cancel</button>
                         <button type="submit" class="form-btn btn-primary">Save Set</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirm-modal" class="modal-container confirm-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <h3>Confirm Deletion</h3>
            <p>Are you sure you want to delete this set? This action cannot be undone.</p>
            <div class="confirm-actions">
                <button class="form-btn btn-secondary modal-cancel-btn">Cancel</button>
                <button id="confirmDeleteBtn" class="form-btn btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Event Summary Modal -->
    <div id="event-summary-modal" class="modal-container">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close-btn" aria-label="Close">&times;</button>
            <div id="summaryContent">
                <!-- Summary content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Setlist Management Modal -->
    <div id="setlist-management-modal" class="modal-container">
        <div class="modal-overlay"></div>
        <div class="modal-content" style="max-width: 600px;">
            <button class="modal-close-btn" aria-label="Close">&times;</button>
            <h3>Manage Setlists</h3>
            
            <div id="setlistsContainer">
                <!-- Setlists will be populated here -->
            </div>
            
            <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
                <h4>Create New Setlist</h4>
                <form id="newSetlistForm">
                    <div style="margin-bottom: 1rem;">
                        <label for="newSetlistName" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Setlist Name</label>
                        <input type="text" id="newSetlistName" placeholder="e.g., Weekend 5-Minute" style="width: 100%; padding: 0.5rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary);" required>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label for="newSetlistJokes" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Jokes (one per line)</label>
                        <textarea id="newSetlistJokes" placeholder="Joke 1&#10;Joke 2&#10;Joke 3" style="width: 100%; min-height: 100px; padding: 0.5rem; background: var(--bg-input); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-primary); resize: vertical;" required></textarea>
                    </div>
                    <button type="submit" style="padding: 0.5rem 1rem; background: var(--accent-blue); color: white; border: none; border-radius: 6px; cursor: pointer;">Create Setlist</button>
                </form>
            </div>
            
            <div style="margin-top: 2rem; text-align: center;">
                <button class="form-btn btn-secondary modal-cancel-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Joke Modal -->
    <div id="add-edit-joke-modal" class="modal-container form-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content" style="max-width: 600px;">
            <button class="modal-close-btn" aria-label="Close">&times;</button>
            <h3 class="form-title" id="jokeFormTitle">Add New Joke</h3>
            <form id="jokeForm">
                <input type="hidden" id="jokeId" name="jokeId">
                
                <div class="form-group full-width">
                    <label for="jokeText">Joke Text</label>
                    <textarea id="jokeText" name="jokeText" required placeholder="Enter your joke here..." style="min-height: 120px; resize: vertical;"></textarea>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="jokeTags">Tags (comma-separated)</label>
                        <input type="text" id="jokeTags" name="jokeTags" placeholder="e.g., opener, clean, observational">
                        <div class="tags-suggestions" id="jokeTagsSuggestions" style="margin-top: 0.5rem; display: flex; flex-wrap: wrap; gap: 0.25rem;"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="estimatedDuration">Duration (seconds)</label>
                        <input type="number" id="estimatedDuration" name="estimatedDuration" min="5" max="600" value="60" placeholder="60">
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="jokeNotes">Notes</label>
                    <textarea id="jokeNotes" name="jokeNotes" placeholder="Setup variations, timing notes, audience reactions, etc." style="min-height: 80px; resize: vertical;"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="form-btn btn-secondary modal-cancel-btn">Cancel</button>
                    <button type="submit" class="form-btn btn-primary">Save Joke</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- =================================== -->
    <!-- JOKE BANK CONTAINER                 -->
    <!-- =================================== -->
    <div class="joke-bank-container" id="jokeBankContainer" style="display: none;">
        <h3 class="calendar-title">My Joke Library</h3>
        
        <!-- Joke Bank Controls -->
        <div class="joke-bank-controls">
            <div class="filter-controls">
                <div class="filter-group">
                    <i class="fas fa-search"></i>
                    <input type="search" id="jokeSearch" class="filter-input" placeholder="Search jokes by text, notes, or tags...">
                </div>
                <div class="filter-group">
                    <select id="jokeTagFilter" class="filter-input" style="padding-left: 2.25rem;">
                        <option value="">All Tags</option>
                    </select>
                </div>
                <div class="filter-group" style="display: flex; gap: 0.5rem;">
                    <label style="display: flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); cursor: pointer;">
                        <input type="checkbox" id="showArchivedJokes" style="margin: 0;">
                        <span>Show Archived</span>
                    </label>
                </div>
            </div>
            
            <div class="joke-bank-actions">
                <button class="add-set-btn" id="addJokeBtn">
                    <i class="fas fa-plus fa-xs"></i> Add New Joke
                </button>
            </div>
        </div>

        <!-- Jokes Grid -->
        <div class="jokes-grid" id="jokesGrid">
            <!-- Jokes will be populated here -->
        </div>
    </div>

    <!-- =================================== -->
    <!-- BOTTOM NAVIGATION                  -->
    <!-- =================================== -->
    <div class="bottom-nav" id="bottomNav">
        <div class="bottom-nav-item active" id="calendarNavBtn">
            <i class="fas fa-calendar-alt"></i>
            <span>Calendar</span>
        </div>
        <div class="bottom-nav-item" id="jokesNavBtn">
            <i class="fas fa-lightbulb"></i>
            <span>Library</span>
        </div>
        <div class="bottom-nav-item" id="statsNavBtn">
            <i class="fas fa-chart-bar"></i>
            <span>Stats</span>
        </div>
        <div class="bottom-nav-item" id="settingsNavBtn">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
        </div>
    </div>

    <!-- =================================== -->
    <!-- JAVASCRIPT                         -->
    <!-- =================================== -->

</body>
</html>