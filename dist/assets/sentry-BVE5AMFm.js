var $=Object.defineProperty,F=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var P=(e,t,n)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&P(e,n,t[n]);if(I)for(var n of I(t))J.call(t,n)&&P(e,n,t[n]);return e},c=(e,t)=>F(e,Y(t));const h=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,a=globalThis,d="10.5.0";function m(){return y(a),a}function y(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||d,t[d]=t[d]||{}}function b(e,t,n=a){const s=n.__SENTRY__=n.__SENTRY__||{},i=s[d]=s[d]||{};return i[e]||(i[e]=t())}const V="Sentry Logger ",k={};function j(e){if(!("console"in a))return e();const t=a.console,n={},s=Object.keys(k);s.forEach(i=>{const o=k[i];n[i]=t[i],t[i]=o});try{return e()}finally{s.forEach(i=>{t[i]=n[i]})}}function H(){v().enabled=!0}function K(){v().enabled=!1}function M(){return v().enabled}function X(...e){E("log",...e)}function z(...e){E("warn",...e)}function q(...e){E("error",...e)}function E(e,...t){h&&M()&&j(()=>{a.console[e](`${V}[${e}]:`,...t)})}function v(){return h?b("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const l={enable:H,disable:K,isEnabled:M,log:X,warn:z,error:q},Q=Object.prototype.toString;function W(e,t){return Q.call(e)===`[object ${t}]`}function Z(e){return W(e,"Object")}function tt(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function et(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function nt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(s){h&&l.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function st(){const e=a;return e.crypto||e.msCrypto}function p(e=st()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}const R=1e3;function x(){return Date.now()/R}function it(){const{performance:e}=a;if(!(e!=null&&e.now)||!e.timeOrigin)return x;const t=e.timeOrigin;return()=>(t+e.now())/R}let f;function rt(){return(f!=null?f:f=it())()}function ot(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||rt(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:p()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function B(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const s=r({},e);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=B(s[i],t[i],n-1));return s}function A(){return p()}const S="_sentrySpan";function N(e,t){t?nt(e,S,t):delete e[S]}function D(e){return e[S]}const at=100;class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:A(),sampleRand:Math.random()}}clone(){const t=new u;return t._breadcrumbs=[...this._breadcrumbs],t._tags=r({},this._tags),t._extra=r({},this._extra),t._contexts=r({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata=r({},this._sdkProcessingMetadata),t._propagationContext=r({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,N(t,D(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ot(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags=r(r({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=c(r({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=r(r({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=c(r({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,s=n instanceof u?n.getScopeData():Z(n)?t:void 0,{tags:i,extra:o,user:g,contexts:O,level:w,fingerprint:C=[],propagationContext:L}=s||{};return this._tags=r(r({},this._tags),i),this._extra=r(r({},this._extra),o),this._contexts=r(r({},this._contexts),O),g&&Object.keys(g).length&&(this._user=g),w&&(this._level=w),C.length&&(this._fingerprint=C),L&&(this._propagationContext=L),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,N(this,void 0),this._attachments=[],this.setPropagationContext({traceId:A(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const s=typeof n=="number"?n:at;if(s<=0)return this;const i=c(r({timestamp:x()},t),{message:t.message?et(t.message,2048):t.message});return this._breadcrumbs.push(i),this._breadcrumbs.length>s&&(this._breadcrumbs=this._breadcrumbs.slice(-s),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:D(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=B(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const s=(n==null?void 0:n.event_id)||p();if(!this._client)return h&&l.warn("No client configured on scope - will not capture exception!"),s;const i=new Error("Sentry syntheticException");return this._client.captureException(t,c(r({originalException:t,syntheticException:i},n),{event_id:s}),this),s}captureMessage(t,n,s){const i=(s==null?void 0:s.event_id)||p();if(!this._client)return h&&l.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,c(r({originalException:t,syntheticException:o},s),{event_id:i}),this),i}captureEvent(t,n){const s=(n==null?void 0:n.event_id)||p();return this._client?(this._client.captureEvent(t,c(r({},n),{event_id:s}),this),s):(h&&l.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function ct(){return b("defaultCurrentScope",()=>new u)}function ut(){return b("defaultIsolationScope",()=>new u)}class ht{constructor(t,n){let s;t?s=t:s=new u;let i;n?i=n:i=new u,this._stack=[{scope:s}],this._isolationScope=i}withScope(t){const n=this._pushScope();let s;try{s=t(n)}catch(i){throw this._popScope(),i}return tt(s)?s.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function _(){const e=m(),t=y(e);return t.stack=t.stack||new ht(ct(),ut())}function _t(e){return _().withScope(e)}function dt(e,t){const n=_();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function T(e){return _().withScope(()=>e(_().getIsolationScope()))}function pt(){return{withIsolationScope:T,withScope:_t,withSetScope:dt,withSetIsolationScope:(e,t)=>T(t),getCurrentScope:()=>_().getScope(),getIsolationScope:()=>_().getIsolationScope()}}function U(e){const t=y(e);return t.acs?t.acs:pt()}function ft(){const e=m();return U(e).getCurrentScope()}function lt(...e){const t=m(),n=U(t);if(e.length===2){const[s,i]=e;return s?n.withSetScope(s,i):n.withScope(i)}return n.withScope(e[0])}function gt(e,t){return ft().captureException(e,void 0)}const mt=(e,t={})=>{const n=e instanceof Error?`${e.name}: ${e.message}`:String(e),s=JSON.stringify(t,null,2);console.error("ðŸš¨ Error occurred:",n,s),lt(i=>{var o;i.setContext("error_details",r({timestamp:new Date().toISOString(),user_agent:navigator.userAgent,url:window.location.href},t)),performance.now&&i.setContext("performance",{time_since_load:performance.now(),memory_usage:((o=performance==null?void 0:performance.memory)==null?void 0:o.usedJSHeapSize)||0}),t.apiEndpoint&&i.addBreadcrumb({message:`API call failed: ${t.apiEndpoint}`,level:"error",data:{endpoint:t.apiEndpoint,method:t.method||"GET",status_code:t.statusCode}}),gt(e)})};export{mt as reportError};
